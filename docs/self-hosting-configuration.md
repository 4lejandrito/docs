---
title: Configuration options
---

When running a Plausible release, the following configuration parameters can be supplied as environment variables.

### Default User Generation

A default user can be generated using the `db init-admin` command. In the default docker-compose setup, this command
is run automatically when you boot the server.

It is *highly* recommended that you configure these parameters.

| Parameter        | Default       | Description                          |
|------------------|---------------|--------------------------------------|
| ADMIN_USER_NAME  | autogenerated | Admin user's name                    |
| ADMIN_USER_EMAIL | autogenerated | The default ("admin") user email     |
| ADMIN_USER_PWD   | autogenerated | The default ("admin") user password. |

### Server

Following are the variables that can be used to configure the availability of the server.

| Parameter            | Default     | Description                                                                                                                                                                                         |
|----------------------|-------------|-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| BASE_URL             | http://localhost:8000 | The hosting url of the server, used for URL generation. In production systems, this should be your ingress host.         |
| PORT                 | 8000        | The port on which the server is available.                                                                                                                                                          |
| SECRET_KEY_BASE      | --          | An internal secret key used by [Phoenix Framework](https://www.phoenixframework.org/). Follow the [instructions](https://hexdocs.pm/phoenix/Mix.Tasks.Phx.Gen.Secret.html#content) to generate one. |
| DISABLE_AUTH         | false       | Disables authentication completely, no registration, login will be shown.                                                                                                                           |
| DISABLE_REGISTRATION | false       | Disables registration of new users, keep your admin credentials handy ;)                                                                                                                            |

### Database

Plausible uses [PostgreSQL](https://www.tutorialspoint.com/postgresql/postgresql_environment.htm) for storing user data and [ClickhouseDB](https://clickhouse.tech/docs/en/getting-started/tutorial/) for analytics data. Use the following variables to configure it.

| Parameter            | Default                                  | Description                                                                                                               |
|----------------------|-----------------------------------------------------------|---------------------------------------------------------------------------------------------------------|
| DATABASE_URL            | postgres://localhost:5432/plausible_dev | The database URL as dictated [here](https://hexdocs.pm/ecto/Ecto.Repo.html#module-urls)                                   |
| CLICKHOUSE_DATABASE_URL | http://localhost:8123/plausible_dev     | Connection string for Clickhouse in the same format |


### Mailer/SMTP Setup

Plausible uses and SMTP server to send transactional emails e.g. account activation, password reset, weekly reports, etc.

| Parameter             | Default   | Description                                      |
|-----------------------|-----------|--------------------------------------------------|
| MAILER_EMAIL          | hello@plausible.local  | The email id to use for as _from_ address of all communications from Plausible.|
| SMTP_HOST_ADDR        | localhost              | The host address of your smtp server.                                          |
| SMTP_HOST_PORT        | 25                     | The port of your smtp server.                                                  |
| SMTP_USER_NAME        | --                     | The username/email in case SMTP auth is enabled.                               |
| SMTP_USER_PWD         | --                     | The password in case SMTP auth is enabled.                                     |
| SMTP_HOST_SSL_ENABLED | false                  | If SSL is enabled for SMTP connection                                          |
| SMTP_RETRIES          | 2                      | Number of retries to make until mailer gives up.                               |

Alternatively, you can use Postmark to send transactional emails. In this case, use the following parameters:

| Parameter          | Default            | Description                                                                                          |
|--------------------|--------------------|------------------------------------------------------------------------------------------------------|
| MAILER_ADAPTER     | Bamboo.SMTPAdapter | Instead of the default, replace this with `Bamboo.PostmarkAdapter`  |
| POSTMARK_API_KEY   | --                 | Enter your API key.                                                 |


### IP Geolocation

Plausible uses the GeoLite2 database created by [MaxMind](https://www.maxmind.com) for enriching analytics data with visitor countries. Their
end-user license does not make it very easy to just package the database along with an open-source product. This is why, if you want
to get country data for your analytics, you need to create an account and download their **GeoLite2 Country** database.

Once you have the database, mount it on the Plausible docker image and configure the path of the database file:

| Parameter           | Default   | Description                                                                                          |
|---------------------|-----------|------------------------------------------------------------------------------------------------------|
| GEOLITE2_COUNTRY_DB | --        | Path to your IP geolocation database in MaxMind's format  |

To make this as easy as possible you can use the [`maxmindinc/geoipupdate`](https://hub.docker.com/r/maxmindinc/geoipupdate) Docker image.
You just need to add your account details, mount the database in the `plausible` container and let the image update the database automatically.
To run the complete setup including geoip see [`docker-compose-geoip.yml`](https://github.com/plausible/hosting/blob/master/geoip/docker-compose.geoip.yml).

If the Geolite database is not configured, no country data will be captured.

### Google Search Integration

To enable the Google Search Console integration in Plausible Analytics, you need to authorize your self-hosted installation with a Google
Account. For the OAuth flow, you need to configure the `client_id` and `client_secret`. Visit the
[Google API Console](https://console.developers.google.com/) to obtain OAuth 2.0 credentials such as a client ID and client secret that are
known to both Google and your installation. Once on the API Console, create a new project. On the project go to the "Credentials" screen and
your installation's public URL followed by `/auth/google/callback` as "Authorized redirect URI".

Copy the client ID and Secret into these config values:

| Parameter           | Default   | Description                                                                                          |
|---------------------|-----------|------------------------------------------------------------------------------------------------------|
| GOOGLE_CLIENT_ID    | --        | The Client ID from the Google API Console for your Plausible Analytics project                       |
| GOOGLE_CLIENT_SECRET| --        | The Client Secret from the Google API Console for your Plausible Analytics project                   |

After deploying those values, you can follow [the Search Console Integration docs](https://docs.plausible.io/google-search-console-integration) for
the rest of the set up. For the final step of choosing a property from the Search Console, you also need to enable the "[Google Search Console API (Legacy)](https://console.developers.google.com/apis/api/webmasters.googleapis.com)" on your Google API project.
